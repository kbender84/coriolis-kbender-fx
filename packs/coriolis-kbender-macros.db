{"name":"Yatta Industries Stealth EXO MKII","type":"script","author":"mVXiPkqgp1WUvKFK","img":"modules/coriolis-corerules/images/icons/armor-icon.svg","scope":"global","command":"game.yzecoriolis.rollItemMacro(\"Yatta Industries Stealth EXO MKII\");","folder":null,"sort":0,"permission":{"default":0,"mVXiPkqgp1WUvKFK":3},"flags":{"yzecoriolis":{"itemMacro":true},"core":{"sourceId":"Macro.B8rtjPBHYbdLfJSD"}},"_id":"04pEww8wAVaw9RER"}
{"name":"GravShield","type":"script","author":"mVXiPkqgp1WUvKFK","img":"icons/svg/shield.svg","scope":"global","command":"async function fxAttack(){\n\n//Adds 1 Darkness Point and blocks [[1d6]] damage.\n//Number of batteries used: [[1d6cs>3]]\ngame.yzecoriolis.addDarknessPoints;\n\n\n\nlet content = \"Grav shield blocks [[1d6]] damage. Batteries used: [[1d6cs>3]]\"\nChatMessage.create({content});\n\n//You need to select a token before using the macro.\n\nlet selectedTokens = canvas.tokens.controlled;\nlet effectScale = 0.5;\nlet tokenSize;\n\nfor(let selectedToken of selectedTokens){\n\n    tokenSize = (selectedToken.data.width + selectedToken.data.height) /2;\n\n    new Sequence()\n    //Will play the intro sequence of the Shield animation.\n        .effect()\n            .file(\"jb2a.shield.01.intro.blue\") //Edit this line to customize the intro animation as follow jb2a.shield.version_number.intro.color\n            .scale(effectScale * tokenSize)\n            .atLocation(selectedToken)\n            .waitUntilFinished(-500)\n    //Then it will transition to the loop sequence of the Shield animation.        \n        .effect()\n            .file(\"jb2a.shield.01.loop.blue\") //Edit this line to customize the loop animation as follow jb2a.shield.version_number.loop.color\n            .scale(effectScale * tokenSize)\n            .atLocation(selectedToken)\n            .fadeIn(300)\n            .fadeOut(300)\n            .waitUntilFinished(-500)\n    //Finally it will play the outro sequence of the Shield animation as follow jb2a.shield.version_number.outro.color. \n    //You can also change '_explode' to '_fade' to have a different ending.\n        .effect()\n            .file(\"jb2a.shield.01.outro_explode.blue\") //Edit this line to customize the outro animation.\n            .scale(effectScale * tokenSize)\n            .atLocation(selectedToken)\n        .play()\n}\n    }\n    fxAttack();","folder":null,"sort":0,"permission":{"default":0,"mVXiPkqgp1WUvKFK":3},"flags":{"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.I6ICEkl9Fc2ypmpo"}},"_id":"8pzhnmIAh0K5M166"}
{"name":"Autofire","type":"chat","author":"mVXiPkqgp1WUvKFK","img":"icons/svg/target.svg","scope":"global","command":"Scores [[1d6x>1cs6]] successes with autofire before emptying the clip.","folder":null,"sort":0,"permission":{"default":0,"mVXiPkqgp1WUvKFK":3},"flags":{"macro-marker":{"activeData":{"icon":"icons/svg/dice-target.svg","tooltip":"Autofire","colour":"#ff0000","trigger":""}},"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.IZLFRevayXBE6j6y"}},"_id":"B8IVtLe4HktsaduL"}
{"name":"Roll!","type":"script","author":"mVXiPkqgp1WUvKFK","img":"icons/svg/dice-target.svg","scope":"global","command":"var dice = prompt(\"Type number of dice to roll\");\n\nconst roll = new Roll(dice+`d6cs6`);\nroll.roll();\nroll.toMessage({\n    flavor: \"And the result is (successes):\",\n});","folder":null,"sort":0,"permission":{"default":0,"mVXiPkqgp1WUvKFK":3},"flags":{"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.Et2jsDBPwslQB0hK"}},"_id":"C5Tp6YWKdV9nfYGY"}
{"name":"CLEAR","type":"script","author":"mVXiPkqgp1WUvKFK","img":"icons/svg/ice-aura.svg","scope":"global","command":"// Delete all filters on the selected tokens/tiles\nTokenMagic.deleteFiltersOnSelected();","folder":null,"sort":0,"permission":{"default":0,"mVXiPkqgp1WUvKFK":3},"flags":{"core":{"sourceId":"Macro.lREGLMNTRkFWA8Kt"}},"_id":"gvIh1bKbFpt208Vu"}
{"name":"Ship Crit hit!","type":"script","author":"mVXiPkqgp1WUvKFK","img":"systems/yzecoriolis/css/icons/spaceship-keyart.svg","scope":"global","command":"const table = game.tables.getName(\"Table 7.16 Critical Ship Damage\");\ntable.draw();","folder":null,"sort":0,"permission":{"default":0,"mVXiPkqgp1WUvKFK":3},"flags":{"core":{"sourceId":"Macro.16hd17hYUuyTfrsZ"},"furnace":{"runAsGM":false}},"_id":"hinmFYtZk3tVJ6V8"}
{"name":"Crit hit!","type":"script","author":"mVXiPkqgp1WUvKFK","img":"icons/svg/skull.svg","scope":"global","command":"const table = game.tables.getName(\"Table 5.6 Critical Injuries\");\ntable.draw();","folder":null,"sort":0,"permission":{"default":0,"mVXiPkqgp1WUvKFK":3},"flags":{"core":{"sourceId":"Macro.16hd17hYUuyTfrsZ"},"furnace":{"runAsGM":false}},"_id":"lB16mcapD2bWSdcd"}
{"name":"Mania!","type":"script","author":"mVXiPkqgp1WUvKFK","img":"icons/svg/terror.svg","scope":"global","command":"const table = game.tables.getName(\"Manias\");\ntable.draw();","folder":null,"sort":0,"permission":{"default":0,"mVXiPkqgp1WUvKFK":3},"flags":{"core":{"sourceId":"Macro.16hd17hYUuyTfrsZ"},"furnace":{"runAsGM":false}},"_id":"t2FoM4xUrlqoUus3"}
{"name":"Images Update","type":"script","author":"mVXiPkqgp1WUvKFK","img":"icons/svg/dice-target.svg","scope":"global","command":"updateImage('Accelerator carbine', 'modules/coriolis-kbender-fx/icons/Acceleratorkarbin.png');\nupdateImage('Accelerator rifle Nestera Parox', 'modules/coriolis-kbender-fx/icons/AcceleratorkarbinNestera.png');\nupdateImage('Twin rifle', 'modules/coriolis-kbender-fx/icons/Acceleratorkarbintwin.png');\nupdateImage('Accelerator pistol', 'modules/coriolis-kbender-fx/icons/Acceleratorpistol.png');\nupdateImage('Accelerator launcher', 'modules/coriolis-kbender-fx/icons/Ackskastare.png');\nupdateImage('Axe', 'modules/coriolis-kbender-fx/icons/axe.png');\nupdateImage('Throwing axe', 'modules/coriolis-kbender-fx/icons/axethrow.png');\nupdateImage('Baton', 'modules/coriolis-kbender-fx/icons/baton.png');\nupdateImage('Baton, expandable', 'modules/coriolis-kbender-fx/icons/baton_exp.png');\nupdateImage('Blowpipe', 'modules/coriolis-kbender-fx/icons/blowgun.png');\nupdateImage('Brass knuckles', 'modules/coriolis-kbender-fx/icons/brass_knuckles.png');\nupdateImage('Breach charge – Small', 'modules/coriolis-kbender-fx/icons/breach_charge.png');\nupdateImage('Breach charge – Medium', 'modules/coriolis-kbender-fx/icons/breach_charge.png');\nupdateImage('Breach charge – Massive', 'modules/coriolis-kbender-fx/icons/breach_charge.png');\nupdateImage('Breach charge – Heavy', 'modules/coriolis-kbender-fx/icons/breach_charge.png');\nupdateImage('Claws', 'modules/coriolis-kbender-fx/icons/claws.png');\nupdateImage('Combat bow', 'modules/coriolis-kbender-fx/icons/combat_bow.png');\nupdateImage('Dura knife', 'modules/coriolis-kbender-fx/icons/dura-knife.png');\nupdateImage('Dura halberd', 'modules/coriolis-kbender-fx/icons/Durahillebard.png');\nupdateImage('Dura sword', 'modules/coriolis-kbender-fx/icons/durasword.png');\nupdateImage('Dura axe', 'modules/coriolis-kbender-fx/icons/dura_axe.png');\nupdateImage('Dura claws', 'modules/coriolis-kbender-fx/icons/dura_claws.png');\nupdateImage('Energy staff', 'modules/coriolis-kbender-fx/icons/Energistav.png');\nupdateImage('Energy stick', 'modules/coriolis-kbender-fx/icons/Energystick.png');\nupdateImage('Energy whip', 'modules/coriolis-kbender-fx/icons/Energywhip.png');\nupdateImage('Firestorm system', 'modules/coriolis-kbender-fx/icons/firestone%20system.png');\nupdateImage('Flamethrower', 'modules/coriolis-kbender-fx/icons/flamethrower.png');\nupdateImage('Grape carbine', 'modules/coriolis-kbender-fx/icons/grape_car.png');\nupdateImage('Grape rifle', 'modules/coriolis-kbender-fx/icons/grape_gun.png');\nupdateImage('Sawn-off grape rifle', 'modules/coriolis-kbender-fx/icons/grape_saw.png');\nupdateImage('Stun grenade', 'modules/coriolis-kbender-fx/icons/grenade_conc.png');\nupdateImage('Concussion grenade', 'modules/coriolis-kbender-fx/icons/grenade_conc.png');\nupdateImage('Frag grenade', 'modules/coriolis-kbender-fx/icons/grenade_frag.png');\nupdateImage('Inferno grenade', 'modules/coriolis-kbender-fx/icons/grenade_inferno.png');\nupdateImage('Smoke grenade', 'modules/coriolis-kbender-fx/icons/grenade_smoke.png');\nupdateImage('Sensor smoke grenade', 'modules/coriolis-kbender-fx/icons/grenade_smoke_sensor.png');\nupdateImage('Thermal grenade', 'modules/coriolis-kbender-fx/icons/grenade_thermal.png');\nupdateImage('Thermobaric grenade', 'modules/coriolis-kbender-fx/icons/grenade_thermobaric.png');\nupdateImage('Halberd', 'modules/coriolis-kbender-fx/icons/halbard.png');\nupdateImage('Hand fan (Ahlam)', 'modules/coriolis-kbender-fx/icons/hand-fan-alhama.png');\nupdateImage('Hand fan', 'modules/coriolis-kbender-fx/icons/hand-fan.png');\nupdateImage('Harpoon', 'modules/coriolis-kbender-fx/icons/harpoon.png');\nupdateImage('Grenade launcher', 'modules/coriolis-kbender-fx/icons/Kastarsystem%2C%20portabelt.png');\nupdateImage('Knife', 'modules/coriolis-kbender-fx/icons/knife.png');\nupdateImage('Throwing knife', 'modules/coriolis-kbender-fx/icons/knife_throw.png');\nupdateImage('Legionnaire carbine Dayal-3', 'modules/coriolis-kbender-fx/icons/legionrifle.png');\nupdateImage('Long rifle', 'modules/coriolis-kbender-fx/icons/L%C4%BAngb%C3%B6ssa.png');\nupdateImage('Saladin grape gun', 'modules/coriolis-kbender-fx/icons/L%C4%BAngb%C3%B6ssagrape.png');\nupdateImage('Sawed-off long rifle', 'modules/coriolis-kbender-fx/icons/L%C4%BAngb%C3%B6ssasaw.png');\nupdateImage('Mace', 'modules/coriolis-kbender-fx/icons/mace.png');\nupdateImage('Mercurium knife', 'modules/coriolis-kbender-fx/icons/Mercuriumdagger.png');\nupdateImage('Mercurium sword', 'modules/coriolis-kbender-fx/icons/Mercuriumsv%C3%A4rd.png');\nupdateImage('Missile launcher', 'modules/coriolis-kbender-fx/icons/Missilsystem%2C%20portabelt.png');\nupdateImage('Power sledge', 'modules/coriolis-kbender-fx/icons/power_sledge.png');\nupdateImage('Shock whip', 'modules/coriolis-kbender-fx/icons/Shock_whip.png');\nupdateImage('Spear-thrower', 'modules/coriolis-kbender-fx/icons/spear-thrower.png');\nupdateImage('Spear', 'modules/coriolis-kbender-fx/icons/spear.png');\nupdateImage('Throwing spear', 'modules/coriolis-kbender-fx/icons/spear_throw.png');\nupdateImage('Staff', 'modules/coriolis-kbender-fx/icons/Staff.png');\nupdateImage('Staff, expandable', 'modules/coriolis-kbender-fx/icons/Staff_expand.png');\nupdateImage('Shock stick', 'modules/coriolis-kbender-fx/icons/stun_baton.png');\nupdateImage('Stun gun', 'modules/coriolis-kbender-fx/icons/stun_gun.png');\nupdateImage('Sword', 'modules/coriolis-kbender-fx/icons/sword.png');\nupdateImage('Thermal cricket', 'modules/coriolis-kbender-fx/icons/Termalderringer.png');\nupdateImage('Thermal rifle', 'modules/coriolis-kbender-fx/icons/Termalrifle.png');\nupdateImage('Thermal carbine', 'modules/coriolis-kbender-fx/icons/Termalkarbin.png');\nupdateImage('Thermal pistol', 'modules/coriolis-kbender-fx/icons/Termalpistol.png');\nupdateImage('Thermal machine gun', 'modules/coriolis-kbender-fx/icons/Termalspruta.png');\nupdateImage('Thermal projector', 'modules/coriolis-kbender-fx/icons/thermal_projector.png');\nupdateImage('Unarmed', 'modules/coriolis-kbender-fx/icons/unarmed.png');\nupdateImage('Vulcan carbine', 'modules/coriolis-kbender-fx/icons/Vulkancarabinlong.png');\nupdateImage('Vulcan cricket', 'modules/coriolis-kbender-fx/icons/Vulkanderringer.png');\nupdateImage('Vulcan PDW', 'modules/coriolis-kbender-fx/icons/Vulkankarbin.png');\nupdateImage('Vulcan pistol', 'modules/coriolis-kbender-fx/icons/Vulkanpistol.png');\nupdateImage('Vulcan pistol Arax Omir', 'modules/coriolis-kbender-fx/icons/VulkanpistolHeavy.png');\nupdateImage('Vulcan Scorpion', 'modules/coriolis-kbender-fx/icons/VulkanScorpion.png');\nupdateImage('Vulcan machine gun', 'modules/coriolis-kbender-fx/icons/Vulkanspruta.png');\nupdateImage('Whip', 'modules/coriolis-kbender-fx/icons/whip.png');\nupdateImage('Missile system – Blast', 'modules/coriolis-kbender-fx/icons/Missilsystem%2C%20portabelt.png');\nupdateImage('Power glove', 'modules/coriolis-kbender-fx/icons/power_glove.png');\nupdateImage('Missile system – Armor-piercing', 'modules/coriolis-kbender-fx/icons/Missilsystem%2C%20portabelt.png');\nupdateImage('Accelerator machine gun', 'modules/coriolis-kbender-fx/icons/acceleratormachinegun.png');\nchatMessage(\"Images updated\");\n\n\nfunction updateImage(imName, image)\n{\n    let itemId =  game.items.find(i => i.name == imName);\n    if(!itemId)\n    {\n        chatMessage(imName + ' item not found');\n    }\n    else\n    {\n            itemId.update({img: image});\n    }\n\n       \n}\n\n\nfunction chatMessage(messageContent) {\n\t// create the message\n\tif (messageContent !== '') {\n\t\tlet chatData = {\n\t\t\tuser: game.user._id,\n\t\t\tspeaker: ChatMessage.getSpeaker(),\n\t\t\tcontent: messageContent,\n\t\t};\n\t\tChatMessage.create(chatData, {});\n\t}\n}","folder":null,"sort":0,"permission":{"default":0,"mVXiPkqgp1WUvKFK":3},"flags":{"core":{"sourceId":"Macro.H9XpLsuE1FFSgs0J"}},"_id":"LTmc0DdtxpoNdEkj"}
